<!DOCTYPE html>
<html lang="en" ng-app="twiLu">
  <head>
    <%- include('header'); %>
    <title>CNKISearcher | Home</title>
    <link rel="stylesheet" href="stylesheets/bootstrap-select.min.css">
    <script type="text/javascript" src="javascripts/lib/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="javascripts/home.js"></script>
  </head>
  <body ng-app="twiLu" ng-controller="homeController">
    <div id="search-options" class="container text-center" align="center">
      <h3 class="text-center">CNKISearcher</h3>
      <div class="row" >
        <div class="col-md-3">
          <!-- <label for="user-name">Username</label> -->
          <input class="form-control" id="user-name" ng-model="userName" type="text"
          onkeyup = "if(event.keyCode == 13) document.getElementById('srch-btn').click();" placeholder="作者" />
        </div>
        <div class="col-md-6">
          <!-- <label for="tweet-text">Tweet</label> -->
          <input class="form-control" id="tweet-text" ng-model="tweetText" type="text"
           onkeyup = "if(event.keyCode == 13) document.getElementById('srch-btn').click();"
           placeholder="搜索文本" />
        </div>
        <div class="col-md-3">
          <input class="form-control" id="tweet-count" ng-model="tweetCount" type="text"
          onkeyup = "if(event.keyCode == 13) document.getElementById('srch-btn').click();" placeholder="最大结果数" />
        </div>
      </div>
      <div class="row" >
          <div class="col-md-4">
            <input class="form-control" id="publisher-name" ng-model="publisherName" type="text"
            onkeyup = "if(event.keyCode == 13) document.getElementById('srch-btn').click();" placeholder="出版杂志" />
          </div>
        <div class="col-md-5">
          <input class="form-control" id="institute-name" ng-model="instituteName" type="text"
            onkeyup = "if(event.keyCode == 13) document.getElementById('srch-btn').click();"
            placeholder="作者单位" />
        </div>
        <div class="col-md-3">
          <!--<button id="srch-btn" type="submit" class="btn btn-success" ng-click="search();" ><i class="fa fa-search" aria-hidden="true"></i> </button>-->
          <button id="srch-btn" type="submit" class="btn btn-success" ng-click="search();" >Search</button>
        </div>
      </div>
    </div>
    <h6 id="search-msg" class="text-center">{{ searchMsg }}</h6>
    <div id="search-results" class="container hidden">
      <div class="row">
        <div class="col-md-25">
          <table class="table table-striped table-hover table-condensed table-responsive">
            <thead>
              <!--<th>ID</th>-->
              <th>作者<br>　
              </th>
              <th>题名<br>来源
              </th>
              <th>单位
              </th>
              <!-- <th>摘要</th> -->
            </thead>
            <tbody ng-repeat="r in results">
              <!-- This is the conent  -->
              <tr>
                <!--<td>{{ r.id }}</td>-->
                <td class="word-wrap-b" ng-bind-html="r['作者'] | trustHtml"></td>
                <td class="word-wrap-b" colspan="2" ng-bind-html="r['题名'] | trustHtml"></td>
              </tr>
              <tr>
                <td></td>
                <td class="word-wrap-b-i" ng-show="r['来源']!==undefined" ng-bind-html="r['来源'] | trustHtml"></td>
                <td class="word-wrap-no" ng-show="r['来源']==undefined">来源不可用。</td>
                <td class="word-wrap-b-i" ng-show="r['单位']!==undefined" ng-bind-html="r['单位'] | trustHtml"></td>
                <td class="word-wrap-no" ng-show="r['单位']==undefined">单位不可用。</td>
              </tr>
              <tr>
                <td colspan="3" class="word-wrap" ng-show="r['摘要']!==undefined">　　<span ng-bind-html="r['摘要'] | trustHtml"></span></td>
                <td colspan="3" class="word-wrap-no" ng-show="r['摘要']==undefined">　　摘要不可用。</td>
              </tr>
              <tr>

              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </body>
</html>
